(()=>{"use strict";class t{constructor(t,e,n,i,o,s,r,c,_,a,m,u,d,h){this._Currenttemp_f=t,this._Currenttemp_c=e,this._CurrentCondition=n,this._LocationName=i,this._LocationRegion=o,this._LocationCountry=s,this._feelslike_c=r,this._feelslike_f=c,this._humidity=_,this._wind_mph=a,this._wind_kph=m,this._vis_miles=u,this._vis_km=d,this._date=h,this._sevenDay=[]}get Currenttemp_f(){return this._Currenttemp_f}get Currenttemp_c(){return this._Currenttemp_c}get CurrentCondition(){return this._CurrentCondition}get LocationName(){return this._LocationName}get LocationRegion(){return this._LocationRegion}get LocationCountry(){return this._LocationCountry}get feelslike_c(){return this._feelslike_c}get feelslike_f(){return this._feelslike_f}get humidity(){return this._humidity}get wind_mph(){return this._wind_mph}get wind_kph(){return this._wind_kph}get vis_miles(){return this._vis_miles}get vis_km(){return this._vis_km}get date(){return this._date}set Currenttemp_f(t){this._Currenttemp_f=t}set Currenttemp_c(t){this._Currenttemp_c=t}set CurrentCondition(t){this._CurrentCondition=t}set LocationName(t){this._LocationName=t}set LocationRegion(t){this._LocationRegion=t}set LocationCountry(t){this._LocationCountry=t}set feelslike_c(t){this._feelslike_c=t}set feelslike_f(t){this._feelslike_f=t}set humidity(t){this._humidity=t}set wind_mph(t){this._wind_mph=t}set wind_kph(t){this._wind_kph=t}set vis_miles(t){this._vis_miles=t}set vis_km(t){this._vis_km=t}set date(t){this._date=t}pushSevenday(t){this._sevenDay.push(t)}}class e{constructor(t,e,n,i,o,s){this._maxtemp_c=t,this._maxtemp_f=e,this._mintemp_c=n,this._mintemp_f=i,this._condition=o,this._date=s}get maxtemp_c(){return this._maxtemp_c}get maxtemp_f(){return this._maxtemp_f}get mintemp_c(){return this._mintemp_c}get mintemp_f(){return this._maxtemp_f}get condition(){return this._condition}get date(){return this._date}set maxtemp_c(t){this._maxtemp_c=t}set maxtemp_f(t){this._maxtemp_f=t}set mintemp_c(t){this._mintemp_c=t}set mintemp_f(t){this._mintemp_f=t}set condition(t){this._condition=t}set date(t){this._date=t}}const n=document.getElementById("search"),i=document.querySelector(".form");async function o(n){try{const i=await fetch(`http://api.weatherapi.com/v1/forecast.json?key=4eeb393e704d4c829ed160933232306&q=${n}&days=8&aqi=yes&alerts=yes`,{mode:"cors"});!function(n){const i=n.location.localtime.split(" "),o=new t(n.current.temp_f,n.current.temp_c,n.current.condition.text,n.location.name,n.location.region,n.location.country,n.current.feelslike_c,n.current.feelslike_f,n.current.humidity,n.current.wind_mph,n.current.wind_kph,n.current.vis_miles,n.current.vis_km,i[0]);console.log(o);for(let t=1;t<n.forecast.forecastday.length;t++){const i=new e(n.forecast.forecastday[t].day.maxtemp_c,n.forecast.forecastday[t].day.maxtemp_f,n.forecast.forecastday[t].day.mintemp_c,n.forecast.forecastday[t].day.mintemp_f,n.forecast.forecastday[t].day.condition.text,n.forecast.forecastday[t].date);o.pushSevenday(i)}o._sevenDay.forEach((t=>{console.log(t)})),function(t){console.log(t._Currenttemp_f);const e=document.querySelector(".Weather"),n=document.querySelector(".Location"),i=document.querySelector(".date"),o=document.querySelector(".temp"),s=document.querySelector(".feels"),r=document.querySelector(".humidity"),c=document.querySelector(".visibility"),_=document.querySelector(".wind");e.textContent=t.CurrentCondition,n.textContent=`${t.LocationName}, ${t.LocationRegion}, ${t.LocationCountry}`,i.textContent=t.date,o.textContent=t.Currenttemp_f,s.textContent=t.feelslike_f,r.textContent=t.humidity,c.textContent=t.vis_miles,_.textContent=t.wind_mph}(o),function(t){const e=document.querySelector(".bottom");e.replaceChildren(),t._sevenDay.forEach((t=>{const n=document.createElement("div");n.classList.add("container"),e.append(n);const i=document.createElement("div");i.textContent=t.date,console.log(t.maxtemp_f);const o=document.createElement("div");o.textContent=t.maxtemp_f;const s=document.createElement("div");s.textContent=t.mintemp_f;const r=document.createElement("div");r.textContent=t.condition,n.append(i),n.append(o),n.append(s),n.append(r)}))}(o)}(await i.json())}catch(t){console.error(t)}}let s;!async function(){try{const t=await new Promise(((t,e)=>{navigator.geolocation.getCurrentPosition(t,e)})),e={lat:t.coords.latitude,long:t.coords.longitude};s=`${e.lat},${e.long}`,o(s)}catch(t){alert("Default location: New York will be shown"),o("10001")}}(),i.addEventListener("submit",(function(t){t.preventDefault(),o(n.value),n.value="",n.textContent=""}))})();